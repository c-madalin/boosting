<div class="page">
  <!-- HEADER -->
  <div class="page-header">
    <h1>Boosting Dashboard</h1>

    <div class="actions">
      <!-- dropdown de notificÄƒri -->
      <div class="notif-wrap">
        <button class="btn btn-success lg" (click)="toggleNotifDropdown()">
          <i class="fa-solid fa-bell"></i>
          Notifications
        </button>

        <div class="notif-dropdown" *ngIf="notifOpen">
          <div
            class="notif-item"
            *ngFor="let offer of notifications"
            (click)="openFromNotif(offer)">
            <div class="notif-title">{{ offer.gameName }}</div>
            <div class="notif-sub">Offer to {{ offer.desiredRank }}</div>
          </div>
          <div *ngIf="!notifications.length" class="notif-empty">No notifications</div>
        </div>
      </div>

      <!-- switch pentru Get Boosting Offers -->
      <label class="switch">
        <input type="checkbox" [(ngModel)]="offersEnabled" />
        <span class="slider"></span>
        <span class="label">Get Boosting Offers</span>
      </label>
    </div>
  </div>

  <!-- SEARCH BAR + FILTRE -->
  <app-search-bar
    (searchChange)="onSearch($event)"
    (viewClick)="onViewClick()"
  >
    <app-filter-button
      filters
      label="+ Status"
      [options]="statusOptions"
      [selected]="filters.status"
      (selectedChange)="onStatusChange($event)">
    </app-filter-button>

    <app-filter-button
      filters
      label="+ Date"
      [options]="dateOptions"
      [multiple]="false"
      [selected]="datePreset"
      (selectedChange)="onDatePresetChange($event)">
    </app-filter-button>
  </app-search-bar>

  <!-- TABEL -->
  <app-boosting-table
    [rows]="rows"
    (rowAction)="onRowAction($event)">
  </app-boosting-table>
</div>

<!-- OVERLAY -->
<app-overlay [open]="showOffer" (backdropClick)="closeOffer()">
  <app-boost-offer-alert
    *ngIf="selectedOffer"
    [offer]="selectedOffer"
    (decline)="onDecline()"
    (counter)="onCounter()"
    (accept)="onAccept()"
  />
</app-overlay>
